{% extends "base.html" %}

{% block title %}–í–∏—à-–ª–∏—Å—Ç{% endblock %}

{% block content %}
<div class="card">
    <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
    <form method="POST" action="/wishlist/add">
        <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
        <input type="text" id="name" name="name" required>
        
        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
        <textarea id="description" name="description"></textarea>
        
        <label for="price_hint">–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</label>
        <input type="text" id="price_hint" name="price_hint" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5 000 ‚ÇΩ">
        
        <label for="link">–°—Å—ã–ª–∫–∞:</label>
        <input type="text" id="link" name="link" placeholder="https://...">
        
        <label for="order_index">–ü–æ—Ä—è–¥–æ–∫ –≤ —Å–ø–∏—Å–∫–µ:</label>
        <input type="number" id="order_index" name="order_index" min="0" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ">
        
        <button type="submit" class="btn">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
</div>

<div class="card">
    <h2>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h2>
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
                <th>–°—Å—ã–ª–∫–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–ü–æ—Ä—è–¥–æ–∫</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>
                    <form method="POST" action="/wishlist/{{ item.id }}/edit">
                        <input type="text" name="name" value="{{ item.name }}" required>
                </td>
                <td>
                        <textarea name="description" rows="2">{{ item.description }}</textarea>
                </td>
                <td>
                        <input type="text" name="price_hint" value="{{ item.price_hint or '' }}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5 000 ‚ÇΩ">
                </td>
                <td>
                        <input type="text" name="link" value="{{ item.link or '' }}" placeholder="https://...">
                </td>
                <td>
                    {% if item.is_taken %}‚úÖ –ó–∞–±—Ä–∞–Ω–æ{% else %}üõí –î–æ—Å—Ç—É–ø–Ω–æ{% endif %}
                </td>
                <td>
                        <input type="number" name="order_index" value="{{ item.order_index or 0 }}" min="0" style="width: 70px;">
                </td>
                <td>
                        <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </form>
                    <form method="POST" action="/wishlist/{{ item.id }}/delete" style="display: inline;">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä?')">–£–¥–∞–ª–∏—Ç—å</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
