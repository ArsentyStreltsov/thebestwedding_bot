{% extends "base.html" %}

{% block title %}–í–∏—à-–ª–∏—Å—Ç{% endblock %}

{% block content %}
<div class="card">
    <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
    <form method="POST" action="/wishlist/add">
        <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
        <input type="text" id="name" name="name" required>
        
        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
        <textarea id="description" name="description"></textarea>
        
        <label for="link">–°—Å—ã–ª–∫–∞:</label>
        <input type="text" id="link" name="link" placeholder="https://...">
        
        <button type="submit" class="btn">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
</div>

<div class="card">
    <h2>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–°—Å—ã–ª–∫–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.description[:50] if item.description else '-' }}{% if item.description and item.description|length > 50 %}...{% endif %}</td>
                <td>{% if item.link %}<a href="{{ item.link }}" target="_blank">–°—Å—ã–ª–∫–∞</a>{% else %}-{% endif %}</td>
                <td>{% if item.is_taken %}‚úÖ –ó–∞–±—Ä–∞–Ω–æ{% else %}üõí –î–æ—Å—Ç—É–ø–Ω–æ{% endif %}</td>
                <td>
                    <form method="POST" action="/wishlist/{{ item.id }}/delete" style="display: inline;">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä?')">–£–¥–∞–ª–∏—Ç—å</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
